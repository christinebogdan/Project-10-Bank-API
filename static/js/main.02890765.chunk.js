(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),s=n.n(c),i=(n(31),n.p+"static/media/argentBankLogo.e031a16c.png"),o=(n(32),n(14)),u=n(15),l=n(6),m=n(11),j=n.n(m),b=n(13),d={getToken:function(e){return h.apply(this,arguments)},getProfile:function(e){return p.apply(this,arguments)},updateName:function(e){return f.apply(this,arguments)}};function h(){return(h=Object(b.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:3001/api/v1/user/login",n);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.statusText);case 6:return e.next=8,a.json();case 8:return r=e.sent,c=r.body.token,sessionStorage.setItem("user",c),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=3,fetch("http://localhost:3001/api/v1/user/profile",n);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.statusText);case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("user"),a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)},e.next=4,fetch("http://localhost:3001/api/v1/user/profile",a);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:return e.next=9,r.json();case 9:return c=e.sent,s=c.body,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(8),x="p10_BankAPI",g=Object(O.a)(),N="form/username",v="form/password",y="form/rememberme",k="form/submit",w="login/request",I="login/success",S="login/error",C="user/logout",A="user/editname",B="user/firstname",F="user/lastname",T="user/success",P={username:function(e){return{type:N,value:e}},password:function(e){return{type:v,value:e}},rememberme:function(e){return{type:y,value:e}},request:_,auth:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_(e.username)),t.next=4,d.getToken(e);case 4:return r=t.sent,t.next=7,d.getProfile(r);case 7:c=t.sent,s=c.body,sessionStorage.setItem("firstName",s.firstName),sessionStorage.setItem("lastName",s.lastName),n(L({token:r,userInfo:s})),g.push("/".concat(x,"/profile")),n({type:k}),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0),n({type:S}),console.log(a());case 21:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,n){return t.apply(this,arguments)}}()},login:L,loggingOut:function(){return function(e,t){sessionStorage.clear(),e({type:C})}},editName:E,editFirstName:D,editLastName:J,updateName:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.updateName(e);case 3:r=t.sent,n({type:T,value:r}),n(D("")),n(J("")),n(E()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}};function _(e){return{type:w,value:e}}function L(e){return{type:I,value:e}}function E(){return{type:A}}function D(e){return{type:B,value:e}}function J(e){return{type:F,value:e}}var W=n(0);var $=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.authentication}));return n.userInfo.firstName,Object(W.jsxs)("nav",{className:"main-nav",children:[Object(W.jsxs)(u.a,{className:"main-nav-logo",to:"/".concat(x,"/"),children:[Object(W.jsx)("img",{className:"main-nav-logo-image",src:i,alt:"Argent Bank Logo"}),Object(W.jsx)("h1",{className:"sr-only",children:"Argent Bank"})]}),Object(W.jsx)("div",{children:n.isAuthenticated?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{children:[Object(W.jsx)(o.a,{icon:"user-circle"}),Object(W.jsx)(u.a,{to:"/".concat(x,"/profile"),className:"main-nav-item",children:n.userInfo.firstName})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)(o.a,{icon:"sign-out-alt"}),Object(W.jsx)(u.a,{to:"/".concat(x,"/"),className:"main-nav-item",onClick:function(){return t(P.loggingOut())},children:"Sign Out"})]})]}):Object(W.jsxs)("div",{children:[Object(W.jsx)(o.a,{icon:"user-circle"}),Object(W.jsx)(u.a,{to:"/".concat(x,"/login"),className:"main-nav-item",children:"Sign In"})]})})]})},q=(n(46),n.p+"static/media/bank-tree.4d59987c.jpeg"),z={backgroundImage:"url(".concat(q,")")};var M=function(e){return Object(W.jsx)("div",{className:"hero",style:z,children:Object(W.jsxs)("section",{className:"hero-content",children:[Object(W.jsx)("h2",{className:"sr-only",children:"Promoted Content"}),Object(W.jsx)("p",{className:"subtitle",children:"No fees."}),Object(W.jsx)("p",{className:"subtitle",children:"No minimum deposit."}),Object(W.jsx)("p",{className:"subtitle",children:"High interest rates."}),Object(W.jsx)("p",{className:"text",children:"Open a savings account with Argent Bank today!"})]})})},U=(n(47),n(48),{priority:{img:n.p+"static/media/icon-chat.e238539d.png",h3:"You are our #1 priority",text:"Need to talk to a representative? You can get in touch through our 24/7 chat or through a phone call in less than 5 minutes."},money:{img:n.p+"static/media/icon-money.8ec88bb1.png",h3:"More savings means higher rates",text:"The more you save with us, the higher your interest rate will be!"},security:{img:n.p+"static/media/icon-security.1c819fa1.png",h3:"Security you can trust",text:"We use top of the line encryption to make sure your data and money is always safe."}});var Y=function(e){return Object(W.jsxs)("div",{className:"feature-item",children:[Object(W.jsx)("img",{src:U[e.topic].img,alt:"Chat Icon",className:"feature-icon"}),Object(W.jsx)("h3",{className:"feature-item-title",children:U[e.topic].h3}),Object(W.jsx)("p",{children:U[e.topic].text})]})};var H=function(e){return Object(W.jsxs)("section",{className:"features",children:[Object(W.jsx)("h2",{className:"sr-only",children:"Features"}),Object(W.jsx)(Y,{topic:"priority"}),Object(W.jsx)(Y,{topic:"money"}),Object(W.jsx)(Y,{topic:"security"})]})};var R=function(e){return Object(W.jsxs)("main",{className:"main",children:[Object(W.jsx)(M,{}),Object(W.jsx)(H,{})]})};n(49);var V=function(e){var t=Object(l.c)((function(e){return e.formInput})),n=Object(l.b)(),a=function(e){"username"===e.target.id?n(P.username(e.target.value)):"password"===e.target.id?n(P.password(e.target.value)):"remember-me"===e.target.id&&n(P.rememberme(!!e.target.checked))};return Object(W.jsx)("main",{className:"main bg-dark",children:Object(W.jsxs)("section",{className:"sign-in-content",children:[Object(W.jsx)(o.a,{icon:"user-circle"}),Object(W.jsx)("h1",{children:"Sign In"}),Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={email:t.username,password:t.password};n(P.auth(a))},children:[Object(W.jsxs)("div",{className:"input-wrapper",children:[Object(W.jsx)("label",{htmlFor:"username",children:"Username"}),Object(W.jsx)("input",{type:"text",id:"username",onChange:a})]}),Object(W.jsxs)("div",{className:"input-wrapper",children:[Object(W.jsx)("label",{htmlFor:"password",children:"Password"}),Object(W.jsx)("input",{type:"password",id:"password",onChange:a})]}),Object(W.jsxs)("div",{className:"input-remember",children:[Object(W.jsx)("input",{type:"checkbox",id:"remember-me",onChange:a}),Object(W.jsx)("label",{htmlFor:"remember-me",children:"Remember me"})]}),Object(W.jsx)("input",{type:"submit",value:"Sign In",className:"sign-in-button"})]})]})})};n(50),n(51),n(52);var G=function(e){var t=Object(l.c)((function(e){return e.authentication}));return Object(W.jsxs)("section",{className:t.editName?"account border-light":"account",children:[Object(W.jsxs)("div",{className:"account-content-wrapper",children:[Object(W.jsx)("h3",{className:"account-title",children:e.title}),Object(W.jsx)("p",{className:"account-amount",children:e.amount}),Object(W.jsx)("p",{className:"account-amount-description",children:e.description})]}),Object(W.jsx)("div",{className:"account-content-wrapper cta",children:Object(W.jsx)("button",{className:t.editName?"transaction-button button-purple":"transaction-button",children:"View transactions"})})]})},K=[{title:"Argent Bank Checking (x8349)",amount:"$2,082.79",description:"Available Balance"},{title:"Argent Bank Savings (x6712)",amount:"$10,928.42",description:"Available Balance"},{title:"Argent Bank Credit Card (x8349)",amount:"$184.30",description:"Current Balance"}];var Q=function(){return Object(W.jsx)(W.Fragment,{children:K.map((function(e,t){return Object(W.jsx)(G,{title:e.title,amount:e.amount,description:e.description},t)}))})};var X=function(e){var t=Object(l.c)((function(e){return e.authentication})),n=Object(l.b)(),a=function(){n(P.editName())},r=function(e){"firstName"===e.target.id?n(P.editFirstName(e.target.value)):"lastName"===e.target.id&&n(P.editLastName(e.target.value))},c=function(e){e.preventDefault();var a=t.editNameInput;n(P.updateName(a)),sessionStorage.setItem("firstName",a.firstName),sessionStorage.setItem("lastName",a.lastName)},s=function(e){e.preventDefault(),n(P.editName())};return Object(W.jsxs)("main",{className:t.editName?"main bg-light":"main bg-dark",children:[Object(W.jsx)("div",{className:t.editName?"header header-dark":"header header-light",children:t.editName?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h1",{children:"Welcome back"}),Object(W.jsxs)("form",{className:"form",children:[Object(W.jsx)("input",{className:"editName",type:"text",id:"firstName",placeholder:t.userInfo.firstName,onChange:r}),Object(W.jsx)("input",{className:"editName",type:"test",id:"lastName",placeholder:t.userInfo.lastName,onChange:r}),Object(W.jsxs)("div",{className:"editName__buttons",children:[Object(W.jsx)("button",{className:"editName__button",onClick:c,children:"Save"}),Object(W.jsx)("button",{className:"editName__button",onClick:s,children:"Cancel"})]})]})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("h1",{children:["Welcome back",Object(W.jsx)("br",{}),t.userInfo.firstName," ",t.userInfo.lastName]}),Object(W.jsx)("button",{className:"edit-button",onClick:a,children:"Edit Name"})]})}),Object(W.jsx)("h2",{className:"sr-only",children:"Accounts"}),Object(W.jsx)(Q,{})]})};n(53);var Z=function(e){return Object(W.jsx)("footer",{className:"footer",children:Object(W.jsx)("p",{className:"footer-text",children:"Copyright 2020 Argent Bank"})})},ee=(n(54),n(12)),te=n(24),ne=n(5);ee.b.add(te.b,te.a);var ae=function(){var e=Object(l.c)((function(e){return e.authentication}));return Object(W.jsxs)(ne.c,{history:g,children:[Object(W.jsx)("header",{children:Object(W.jsx)($,{})}),Object(W.jsxs)(ne.d,{children:[Object(W.jsx)(ne.b,{exact:!0,path:"/".concat(x,"/"),children:Object(W.jsx)(R,{})}),Object(W.jsx)(ne.b,{path:"/".concat(x,"/login"),children:Object(W.jsx)(V,{})}),Object(W.jsx)(ne.b,{path:"/".concat(x,"/profile"),children:e.isAuthenticated?Object(W.jsx)(X,{}):Object(W.jsx)(ne.a,{to:"/".concat(x,"/")})})]}),Object(W.jsx)(Z,{})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ce=n(17),se=n(26),ie=n(3),oe={username:"",password:"",rememberme:!1,firstName:"",lastName:""};var ue={loggingIn:!1,isAuthenticated:!!sessionStorage.user,token:"",userInfo:{firstName:sessionStorage.firstName,lastName:sessionStorage.lastName},editName:!1,editNameInput:{firstName:"",lastName:""}};var le=Object(ce.b)({formInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(ie.a)(Object(ie.a)({},e),{},{username:t.value});case v:return Object(ie.a)(Object(ie.a)({},e),{},{password:t.value});case y:return Object(ie.a)(Object(ie.a)({},e),{},{rememberme:t.value});case k:return Object(ie.a)(Object(ie.a)({},e),{},{username:"",password:""});default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(ie.a)(Object(ie.a)({},e),{},{loggingIn:!0});case I:return Object(ie.a)(Object(ie.a)({},e),{},{loggingIn:!1,isAuthenticated:!0,token:t.value.token,userInfo:t.value.userInfo});case S:return Object(ie.a)(Object(ie.a)({},e),{},{loggingIn:!1});case C:return Object(ie.a)(Object(ie.a)({},e),{},{isAuthenticated:!1,token:"",userInfo:{}});case A:return Object(ie.a)(Object(ie.a)({},e),{},{editName:!e.editName});case B:return Object(ie.a)(Object(ie.a)({},e),{},{editNameInput:Object(ie.a)(Object(ie.a)({},e.editNameInput),{},{firstName:t.value})});case F:return Object(ie.a)(Object(ie.a)({},e),{},{editNameInput:Object(ie.a)(Object(ie.a)({},e.editNameInput),{},{lastName:t.value})});case T:return Object(ie.a)(Object(ie.a)({},e),{},{userInfo:t.value});default:return e}}}),me=Object(ce.c)(le,Object(ce.a)(se.a));s.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(l.a,{store:me,children:Object(W.jsx)(ae,{})})}),document.getElementById("root")),re()}},[[55,1,2]]]);
//# sourceMappingURL=main.02890765.chunk.js.map